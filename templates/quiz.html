<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>DSGVO-Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>üìò DSGVO-Quiz</h1>

    <div class="progress">
      Frage {{ qid + 1 }} von {{ total }}
    </div>

    <div class="question">
      {{ question }}
    </div>

    {% if feedback %}
      <div class="feedback {% if 'Richtig' in feedback %}correct{% else %}incorrect{% endif %}">
        {{ feedback }}
      </div>
    {% endif %}

    {% if correct_answers %}
      <div class="explanation">
        <strong>Richtige Antwort(en):</strong><br>
        {{ correct_answers }}
        <br><br>
        <strong>Erkl√§rung:</strong><br>
        {{ explanation }}
      </div>
    {% endif %}

    {% if not feedback %}
      <form method="POST">
        <input type="text" name="answer" id="answer" placeholder="Antwort eingeben..." autofocus>
        <button type="submit">Antwort pr√ºfen</button>
      </form>
    {% else %}
      <div class="footer">
        <a href="{{ url_for('next_question', qid=qid) }}">‚û°Ô∏è N√§chste Frage</a>
      </div>
    {% endif %}
  </div>

  <script>
    // Fokus setzen und Enter-Taste erlauben
    document.addEventListener("DOMContentLoaded", () => {
      const input = document.getElementById("answer");
      if (input) input.focus();
    });
  </script>
</body>
</html>

